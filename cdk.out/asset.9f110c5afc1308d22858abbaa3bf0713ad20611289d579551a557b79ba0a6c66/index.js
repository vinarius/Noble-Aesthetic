var er=Object.create;var N=Object.defineProperty,tr=Object.defineProperties,rr=Object.getOwnPropertyDescriptor,nr=Object.getOwnPropertyDescriptors,ir=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,ar=Object.getPrototypeOf,ge=Object.prototype.hasOwnProperty,je=Object.prototype.propertyIsEnumerable;var ke=(e,t,i)=>t in e?N(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,D=(e,t)=>{for(var i in t||(t={}))ge.call(t,i)&&ke(e,i,t[i]);if(U)for(var i of U(t))je.call(t,i)&&ke(e,i,t[i]);return e},x=(e,t)=>tr(e,nr(t)),He=e=>N(e,"__esModule",{value:!0});var Ue=(e,t)=>{var i={};for(var r in e)ge.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(e!=null&&U)for(var r of U(e))t.indexOf(r)<0&&je.call(e,r)&&(i[r]=e[r]);return i};var f=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),or=(e,t)=>{for(var i in t)N(e,i,{get:t[i],enumerable:!0})},Be=(e,t,i,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of ir(t))!ge.call(e,n)&&(i||n!=="default")&&N(e,n,{get:()=>t[n],enumerable:!(r=rr(t,n))||r.enumerable});return e},sr=(e,t)=>Be(He(N(e!=null?er(ar(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),ur=(e=>(t,i)=>e&&e.get(t)||(i=Be(He({}),t,1),e&&e.set(t,i),i))(typeof WeakMap!="undefined"?new WeakMap:0);var Oe=f((Qn,G)=>{var Ve,$e,Xe,We,Qe,Ke,ze,Je,Ze,B,Se,et,tt,rt,q,nt,it,at,ot,st,ut,lt,ct,F;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(r){e(i(t,i(r)))}):typeof G=="object"&&typeof G.exports=="object"?e(i(t,i(G.exports))):e(i(t));function i(r,n){return r!==t&&(typeof Object.create=="function"?Object.defineProperty(r,"__esModule",{value:!0}):r.__esModule=!0),function(a,o){return r[a]=n?n(a,o):o}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])};Ve=function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(r,n);function a(){this.constructor=r}r.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)},$e=Object.assign||function(r){for(var n,a=1,o=arguments.length;a<o;a++){n=arguments[a];for(var u in n)Object.prototype.hasOwnProperty.call(n,u)&&(r[u]=n[u])}return r},Xe=function(r,n){var a={};for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&n.indexOf(o)<0&&(a[o]=r[o]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(r);u<o.length;u++)n.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(r,o[u])&&(a[o[u]]=r[o[u]]);return a},We=function(r,n,a,o){var u=arguments.length,s=u<3?n:o===null?o=Object.getOwnPropertyDescriptor(n,a):o,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,n,a,o);else for(var d=r.length-1;d>=0;d--)(l=r[d])&&(s=(u<3?l(s):u>3?l(n,a,s):l(n,a))||s);return u>3&&s&&Object.defineProperty(n,a,s),s},Qe=function(r,n){return function(a,o){n(a,o,r)}},Ke=function(r,n){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(r,n)},ze=function(r,n,a,o){function u(s){return s instanceof a?s:new a(function(l){l(s)})}return new(a||(a=Promise))(function(s,l){function d(T){try{c(o.next(T))}catch(m){l(m)}}function y(T){try{c(o.throw(T))}catch(m){l(m)}}function c(T){T.done?s(T.value):u(T.value).then(d,y)}c((o=o.apply(r,n||[])).next())})},Je=function(r,n){var a={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,u,s,l;return l={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function d(c){return function(T){return y([c,T])}}function y(c){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,u&&(s=c[0]&2?u.return:c[0]?u.throw||((s=u.return)&&s.call(u),0):u.next)&&!(s=s.call(u,c[1])).done)return s;switch(u=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return a.label++,{value:c[1],done:!1};case 5:a.label++,u=c[1],c=[0];continue;case 7:c=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){a=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){a.label=c[1];break}if(c[0]===6&&a.label<s[1]){a.label=s[1],s=c;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(c);break}s[2]&&a.ops.pop(),a.trys.pop();continue}c=n.call(r,a)}catch(T){c=[6,T],u=0}finally{o=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}},Ze=function(r,n){for(var a in r)a!=="default"&&!Object.prototype.hasOwnProperty.call(n,a)&&F(n,r,a)},F=Object.create?function(r,n,a,o){o===void 0&&(o=a),Object.defineProperty(r,o,{enumerable:!0,get:function(){return n[a]}})}:function(r,n,a,o){o===void 0&&(o=a),r[o]=n[a]},B=function(r){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&r[n],o=0;if(a)return a.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&o>=r.length&&(r=void 0),{value:r&&r[o++],done:!r}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")},Se=function(r,n){var a=typeof Symbol=="function"&&r[Symbol.iterator];if(!a)return r;var o=a.call(r),u,s=[],l;try{for(;(n===void 0||n-- >0)&&!(u=o.next()).done;)s.push(u.value)}catch(d){l={error:d}}finally{try{u&&!u.done&&(a=o.return)&&a.call(o)}finally{if(l)throw l.error}}return s},et=function(){for(var r=[],n=0;n<arguments.length;n++)r=r.concat(Se(arguments[n]));return r},tt=function(){for(var r=0,n=0,a=arguments.length;n<a;n++)r+=arguments[n].length;for(var o=Array(r),u=0,n=0;n<a;n++)for(var s=arguments[n],l=0,d=s.length;l<d;l++,u++)o[u]=s[l];return o},rt=function(r,n,a){if(a||arguments.length===2)for(var o=0,u=n.length,s;o<u;o++)(s||!(o in n))&&(s||(s=Array.prototype.slice.call(n,0,o)),s[o]=n[o]);return r.concat(s||Array.prototype.slice.call(n))},q=function(r){return this instanceof q?(this.v=r,this):new q(r)},nt=function(r,n,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=a.apply(r,n||[]),u,s=[];return u={},l("next"),l("throw"),l("return"),u[Symbol.asyncIterator]=function(){return this},u;function l(v){o[v]&&(u[v]=function(C){return new Promise(function(Ee,Zt){s.push([v,C,Ee,Zt])>1||d(v,C)})})}function d(v,C){try{y(o[v](C))}catch(Ee){m(s[0][3],Ee)}}function y(v){v.value instanceof q?Promise.resolve(v.value.v).then(c,T):m(s[0][2],v)}function c(v){d("next",v)}function T(v){d("throw",v)}function m(v,C){v(C),s.shift(),s.length&&d(s[0][0],s[0][1])}},it=function(r){var n,a;return n={},o("next"),o("throw",function(u){throw u}),o("return"),n[Symbol.iterator]=function(){return this},n;function o(u,s){n[u]=r[u]?function(l){return(a=!a)?{value:q(r[u](l)),done:u==="return"}:s?s(l):l}:s}},at=function(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r[Symbol.asyncIterator],a;return n?n.call(r):(r=typeof B=="function"?B(r):r[Symbol.iterator](),a={},o("next"),o("throw"),o("return"),a[Symbol.asyncIterator]=function(){return this},a);function o(s){a[s]=r[s]&&function(l){return new Promise(function(d,y){l=r[s](l),u(d,y,l.done,l.value)})}}function u(s,l,d,y){Promise.resolve(y).then(function(c){s({value:c,done:d})},l)}},ot=function(r,n){return Object.defineProperty?Object.defineProperty(r,"raw",{value:n}):r.raw=n,r};var i=Object.create?function(r,n){Object.defineProperty(r,"default",{enumerable:!0,value:n})}:function(r,n){r.default=n};st=function(r){if(r&&r.__esModule)return r;var n={};if(r!=null)for(var a in r)a!=="default"&&Object.prototype.hasOwnProperty.call(r,a)&&F(n,r,a);return i(n,r),n},ut=function(r){return r&&r.__esModule?r:{default:r}},lt=function(r,n,a,o){if(a==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?r!==n||!o:!n.has(r))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?o:a==="a"?o.call(r):o?o.value:n.get(r)},ct=function(r,n,a,o,u){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?r!==n||!u:!n.has(r))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?u.call(r,a):u?u.value=a:n.set(r,a),a},e("__extends",Ve),e("__assign",$e),e("__rest",Xe),e("__decorate",We),e("__param",Qe),e("__metadata",Ke),e("__awaiter",ze),e("__generator",Je),e("__exportStar",Ze),e("__createBinding",F),e("__values",B),e("__read",Se),e("__spread",et),e("__spreadArrays",tt),e("__spreadArray",rt),e("__await",q),e("__asyncGenerator",nt),e("__asyncDelegator",it),e("__asyncValues",at),e("__makeTemplateObject",ot),e("__importStar",st),e("__importDefault",ut),e("__classPrivateFieldGet",lt),e("__classPrivateFieldSet",ct)})});var L=f(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.DEFAULT_RETRY_MODE=b.DEFAULT_MAX_ATTEMPTS=b.RETRY_MODES=void 0;var dt;(function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"})(dt=b.RETRY_MODES||(b.RETRY_MODES={}));b.DEFAULT_MAX_ATTEMPTS=3;b.DEFAULT_RETRY_MODE=dt.STANDARD});var ft=f(g=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});g.TRANSIENT_ERROR_STATUS_CODES=g.TRANSIENT_ERROR_CODES=g.THROTTLING_ERROR_CODES=g.CLOCK_SKEW_ERROR_CODES=void 0;g.CLOCK_SKEW_ERROR_CODES=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"];g.THROTTLING_ERROR_CODES=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"];g.TRANSIENT_ERROR_CODES=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"];g.TRANSIENT_ERROR_STATUS_CODES=[500,502,503,504]});var $=f(S=>{"use strict";Object.defineProperty(S,"__esModule",{value:!0});S.isTransientError=S.isThrottlingError=S.isClockSkewError=S.isRetryableByTrait=void 0;var V=ft(),lr=e=>e.$retryable!==void 0;S.isRetryableByTrait=lr;var cr=e=>V.CLOCK_SKEW_ERROR_CODES.includes(e.name);S.isClockSkewError=cr;var dr=e=>{var t,i;return((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)===429||V.THROTTLING_ERROR_CODES.includes(e.name)||((i=e.$retryable)===null||i===void 0?void 0:i.throttling)==!0};S.isThrottlingError=dr;var fr=e=>{var t;return V.TRANSIENT_ERROR_CODES.includes(e.name)||V.TRANSIENT_ERROR_STATUS_CODES.includes(((t=e.$metadata)===null||t===void 0?void 0:t.httpStatusCode)||0)};S.isTransientError=fr});var Me=f(X=>{"use strict";Object.defineProperty(X,"__esModule",{value:!0});X.DefaultRateLimiter=void 0;var _r=$(),_t=class{constructor(t){var i,r,n,a,o;this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=(i=t==null?void 0:t.beta)!==null&&i!==void 0?i:.7,this.minCapacity=(r=t==null?void 0:t.minCapacity)!==null&&r!==void 0?r:1,this.minFillRate=(n=t==null?void 0:t.minFillRate)!==null&&n!==void 0?n:.5,this.scaleConstant=(a=t==null?void 0:t.scaleConstant)!==null&&a!==void 0?a:.4,this.smooth=(o=t==null?void 0:t.smooth)!==null&&o!==void 0?o:.8;let u=this.getCurrentTimeInSeconds();this.lastThrottleTime=u,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}getCurrentTimeInSeconds(){return Date.now()/1e3}async getSendToken(){return this.acquireTokenBucket(1)}async acquireTokenBucket(t){if(!!this.enabled){if(this.refillTokenBucket(),t>this.currentCapacity){let i=(t-this.currentCapacity)/this.fillRate*1e3;await new Promise(r=>setTimeout(r,i))}this.currentCapacity=this.currentCapacity-t}}refillTokenBucket(){let t=this.getCurrentTimeInSeconds();if(!this.lastTimestamp){this.lastTimestamp=t;return}let i=(t-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+i),this.lastTimestamp=t}updateClientSendingRate(t){let i;if(this.updateMeasuredRate(),_r.isThrottlingError(t)){let n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),i=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),i=this.cubicSuccess(this.getCurrentTimeInSeconds());let r=Math.min(i,2*this.measuredTxRate);this.updateTokenBucketRate(r)}calculateTimeWindow(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}cubicThrottle(t){return this.getPrecise(t*this.beta)}cubicSuccess(t){return this.getPrecise(this.scaleConstant*Math.pow(t-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}enableTokenBucket(){this.enabled=!0}updateTokenBucketRate(t){this.refillTokenBucket(),this.fillRate=Math.max(t,this.minFillRate),this.maxCapacity=Math.max(t,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}updateMeasuredRate(){let t=this.getCurrentTimeInSeconds(),i=Math.floor(t*2)/2;if(this.requestCount++,i>this.lastTxRateBucket){let r=this.requestCount/(i-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(r*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=i}}getPrecise(t){return parseFloat(t.toFixed(8))}};X.DefaultRateLimiter=_t});var ht=f(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0})});var vt=f(Q=>{"use strict";Object.defineProperty(Q,"__esModule",{value:!0});Q.HttpRequest=void 0;var W=class{constructor(t){this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?t.protocol.substr(-1)!==":"?`${t.protocol}:`:t.protocol:"https:",this.path=t.path?t.path.charAt(0)!=="/"?`/${t.path}`:t.path:"/"}static isInstance(t){if(!t)return!1;let i=t;return"method"in i&&"protocol"in i&&"hostname"in i&&"path"in i&&typeof i.query=="object"&&typeof i.headers=="object"}clone(){let t=new W(x(D({},this),{headers:D({},this.headers)}));return t.query&&(t.query=yr(t.query)),t}};Q.HttpRequest=W;function yr(e){return Object.keys(e).reduce((t,i)=>{let r=e[i];return x(D({},t),{[i]:Array.isArray(r)?[...r]:r})},{})}});var Rt=f(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.HttpResponse=void 0;var mt=class{constructor(t){this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}static isInstance(t){if(!t)return!1;let i=t;return typeof i.statusCode=="number"&&typeof i.headers=="object"}};K.HttpResponse=mt});var Tt=f(z=>{"use strict";Object.defineProperty(z,"__esModule",{value:!0});z.isValidHostname=void 0;function hr(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}z.isValidHostname=hr});var Ae=f(I=>{"use strict";Object.defineProperty(I,"__esModule",{value:!0});var J=Oe();J.__exportStar(ht(),I);J.__exportStar(vt(),I);J.__exportStar(Rt(),I);J.__exportStar(Tt(),I)});var we=f(be=>{"use strict";Object.defineProperty(be,"__esModule",{value:!0});be.default=Rr;var vr=mr(require("crypto"));function mr(e){return e&&e.__esModule?e:{default:e}}var Z=new Uint8Array(256),ee=Z.length;function Rr(){return ee>Z.length-16&&(vr.default.randomFillSync(Z),ee=0),Z.slice(ee,ee+=16)}});var pt=f(te=>{"use strict";Object.defineProperty(te,"__esModule",{value:!0});te.default=void 0;var Tr=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;te.default=Tr});var Y=f(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.default=void 0;var pr=Er(pt());function Er(e){return e&&e.__esModule?e:{default:e}}function gr(e){return typeof e=="string"&&pr.default.test(e)}var Sr=gr;re.default=Sr});var j=f(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.default=void 0;var Or=Mr(Y());function Mr(e){return e&&e.__esModule?e:{default:e}}var R=[];for(let e=0;e<256;++e)R.push((e+256).toString(16).substr(1));function Ar(e,t=0){let i=(R[e[t+0]]+R[e[t+1]]+R[e[t+2]]+R[e[t+3]]+"-"+R[e[t+4]]+R[e[t+5]]+"-"+R[e[t+6]]+R[e[t+7]]+"-"+R[e[t+8]]+R[e[t+9]]+"-"+R[e[t+10]]+R[e[t+11]]+R[e[t+12]]+R[e[t+13]]+R[e[t+14]]+R[e[t+15]]).toLowerCase();if(!(0,Or.default)(i))throw TypeError("Stringified UUID is invalid");return i}var br=Ar;ne.default=br});var St=f(ie=>{"use strict";Object.defineProperty(ie,"__esModule",{value:!0});ie.default=void 0;var wr=Et(we()),Dr=Et(j());function Et(e){return e&&e.__esModule?e:{default:e}}var gt,De,Pe=0,Ce=0;function Pr(e,t,i){let r=t&&i||0,n=t||new Array(16);e=e||{};let a=e.node||gt,o=e.clockseq!==void 0?e.clockseq:De;if(a==null||o==null){let c=e.random||(e.rng||wr.default)();a==null&&(a=gt=[c[0]|1,c[1],c[2],c[3],c[4],c[5]]),o==null&&(o=De=(c[6]<<8|c[7])&16383)}let u=e.msecs!==void 0?e.msecs:Date.now(),s=e.nsecs!==void 0?e.nsecs:Ce+1,l=u-Pe+(s-Ce)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||u>Pe)&&e.nsecs===void 0&&(s=0),s>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Pe=u,Ce=s,De=o,u+=122192928e5;let d=((u&268435455)*1e4+s)%4294967296;n[r++]=d>>>24&255,n[r++]=d>>>16&255,n[r++]=d>>>8&255,n[r++]=d&255;let y=u/4294967296*1e4&268435455;n[r++]=y>>>8&255,n[r++]=y&255,n[r++]=y>>>24&15|16,n[r++]=y>>>16&255,n[r++]=o>>>8|128,n[r++]=o&255;for(let c=0;c<6;++c)n[r+c]=a[c];return t||(0,Dr.default)(n)}var Cr=Pr;ie.default=Cr});var xe=f(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.default=void 0;var xr=qr(Y());function qr(e){return e&&e.__esModule?e:{default:e}}function Ir(e){if(!(0,xr.default)(e))throw TypeError("Invalid UUID");let t,i=new Uint8Array(16);return i[0]=(t=parseInt(e.slice(0,8),16))>>>24,i[1]=t>>>16&255,i[2]=t>>>8&255,i[3]=t&255,i[4]=(t=parseInt(e.slice(9,13),16))>>>8,i[5]=t&255,i[6]=(t=parseInt(e.slice(14,18),16))>>>8,i[7]=t&255,i[8]=(t=parseInt(e.slice(19,23),16))>>>8,i[9]=t&255,i[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,i[11]=t/4294967296&255,i[12]=t>>>24&255,i[13]=t>>>16&255,i[14]=t>>>8&255,i[15]=t&255,i}var Nr=Ir;ae.default=Nr});var qe=f(P=>{"use strict";Object.defineProperty(P,"__esModule",{value:!0});P.default=kr;P.URL=P.DNS=void 0;var Lr=Ot(j()),Yr=Ot(xe());function Ot(e){return e&&e.__esModule?e:{default:e}}function jr(e){e=unescape(encodeURIComponent(e));let t=[];for(let i=0;i<e.length;++i)t.push(e.charCodeAt(i));return t}var Mt="6ba7b810-9dad-11d1-80b4-00c04fd430c8";P.DNS=Mt;var At="6ba7b811-9dad-11d1-80b4-00c04fd430c8";P.URL=At;function kr(e,t,i){function r(n,a,o,u){if(typeof n=="string"&&(n=jr(n)),typeof a=="string"&&(a=(0,Yr.default)(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let s=new Uint8Array(16+n.length);if(s.set(a),s.set(n,a.length),s=i(s),s[6]=s[6]&15|t,s[8]=s[8]&63|128,o){u=u||0;for(let l=0;l<16;++l)o[u+l]=s[l];return o}return(0,Lr.default)(s)}try{r.name=e}catch{}return r.DNS=Mt,r.URL=At,r}});var bt=f(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.default=void 0;var Hr=Ur(require("crypto"));function Ur(e){return e&&e.__esModule?e:{default:e}}function Br(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Hr.default.createHash("md5").update(e).digest()}var Fr=Br;oe.default=Fr});var Dt=f(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.default=void 0;var Gr=wt(qe()),Vr=wt(bt());function wt(e){return e&&e.__esModule?e:{default:e}}var $r=(0,Gr.default)("v3",48,Vr.default),Xr=$r;se.default=Xr});var Ct=f(ue=>{"use strict";Object.defineProperty(ue,"__esModule",{value:!0});ue.default=void 0;var Wr=Pt(we()),Qr=Pt(j());function Pt(e){return e&&e.__esModule?e:{default:e}}function Kr(e,t,i){e=e||{};let r=e.random||(e.rng||Wr.default)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){i=i||0;for(let n=0;n<16;++n)t[i+n]=r[n];return t}return(0,Qr.default)(r)}var zr=Kr;ue.default=zr});var xt=f(le=>{"use strict";Object.defineProperty(le,"__esModule",{value:!0});le.default=void 0;var Jr=Zr(require("crypto"));function Zr(e){return e&&e.__esModule?e:{default:e}}function en(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Jr.default.createHash("sha1").update(e).digest()}var tn=en;le.default=tn});var It=f(ce=>{"use strict";Object.defineProperty(ce,"__esModule",{value:!0});ce.default=void 0;var rn=qt(qe()),nn=qt(xt());function qt(e){return e&&e.__esModule?e:{default:e}}var an=(0,rn.default)("v5",80,nn.default),on=an;ce.default=on});var Nt=f(de=>{"use strict";Object.defineProperty(de,"__esModule",{value:!0});de.default=void 0;var sn="00000000-0000-0000-0000-000000000000";de.default=sn});var Lt=f(fe=>{"use strict";Object.defineProperty(fe,"__esModule",{value:!0});fe.default=void 0;var un=ln(Y());function ln(e){return e&&e.__esModule?e:{default:e}}function cn(e){if(!(0,un.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var dn=cn;fe.default=dn});var Yt=f(E=>{"use strict";Object.defineProperty(E,"__esModule",{value:!0});Object.defineProperty(E,"v1",{enumerable:!0,get:function(){return fn.default}});Object.defineProperty(E,"v3",{enumerable:!0,get:function(){return _n.default}});Object.defineProperty(E,"v4",{enumerable:!0,get:function(){return yn.default}});Object.defineProperty(E,"v5",{enumerable:!0,get:function(){return hn.default}});Object.defineProperty(E,"NIL",{enumerable:!0,get:function(){return vn.default}});Object.defineProperty(E,"version",{enumerable:!0,get:function(){return mn.default}});Object.defineProperty(E,"validate",{enumerable:!0,get:function(){return Rn.default}});Object.defineProperty(E,"stringify",{enumerable:!0,get:function(){return Tn.default}});Object.defineProperty(E,"parse",{enumerable:!0,get:function(){return pn.default}});var fn=w(St()),_n=w(Dt()),yn=w(Ct()),hn=w(It()),vn=w(Nt()),mn=w(Lt()),Rn=w(Y()),Tn=w(j()),pn=w(xe());function w(e){return e&&e.__esModule?e:{default:e}}});var k=f(h=>{"use strict";Object.defineProperty(h,"__esModule",{value:!0});h.REQUEST_HEADER=h.INVOCATION_ID_HEADER=h.NO_RETRY_INCREMENT=h.TIMEOUT_RETRY_COST=h.RETRY_COST=h.INITIAL_RETRY_TOKENS=h.THROTTLING_RETRY_DELAY_BASE=h.MAXIMUM_RETRY_DELAY=h.DEFAULT_RETRY_DELAY_BASE=void 0;h.DEFAULT_RETRY_DELAY_BASE=100;h.MAXIMUM_RETRY_DELAY=20*1e3;h.THROTTLING_RETRY_DELAY_BASE=500;h.INITIAL_RETRY_TOKENS=500;h.RETRY_COST=5;h.TIMEOUT_RETRY_COST=10;h.NO_RETRY_INCREMENT=1;h.INVOCATION_ID_HEADER="amz-sdk-invocation-id";h.REQUEST_HEADER="amz-sdk-request"});var jt=f(_e=>{"use strict";Object.defineProperty(_e,"__esModule",{value:!0});_e.getDefaultRetryQuota=void 0;var Ie=k(),En=(e,t)=>{var i,r,n;let a=e,o=(i=t==null?void 0:t.noRetryIncrement)!==null&&i!==void 0?i:Ie.NO_RETRY_INCREMENT,u=(r=t==null?void 0:t.retryCost)!==null&&r!==void 0?r:Ie.RETRY_COST,s=(n=t==null?void 0:t.timeoutRetryCost)!==null&&n!==void 0?n:Ie.TIMEOUT_RETRY_COST,l=e,d=m=>m.name==="TimeoutError"?s:u,y=m=>d(m)<=l;return Object.freeze({hasRetryTokens:y,retrieveRetryTokens:m=>{if(!y(m))throw new Error("No retry token available");let v=d(m);return l-=v,v},releaseRetryTokens:m=>{l+=m??o,l=Math.min(l,a)}})};_e.getDefaultRetryQuota=En});var Ne=f(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.defaultDelayDecider=void 0;var gn=k(),Sn=(e,t)=>Math.floor(Math.min(gn.MAXIMUM_RETRY_DELAY,Math.random()*2**t*e));ye.defaultDelayDecider=Sn});var Le=f(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.defaultRetryDecider=void 0;var he=$(),On=e=>e?he.isRetryableByTrait(e)||he.isClockSkewError(e)||he.isThrottlingError(e)||he.isTransientError(e):!1;ve.defaultRetryDecider=On});var Re=f(me=>{"use strict";Object.defineProperty(me,"__esModule",{value:!0});me.StandardRetryStrategy=void 0;var kt=Ae(),Mn=$(),An=Yt(),Ht=L(),H=k(),bn=jt(),wn=Ne(),Dn=Le(),Ut=class{constructor(t,i){var r,n,a;this.maxAttemptsProvider=t,this.mode=Ht.RETRY_MODES.STANDARD,this.retryDecider=(r=i==null?void 0:i.retryDecider)!==null&&r!==void 0?r:Dn.defaultRetryDecider,this.delayDecider=(n=i==null?void 0:i.delayDecider)!==null&&n!==void 0?n:wn.defaultDelayDecider,this.retryQuota=(a=i==null?void 0:i.retryQuota)!==null&&a!==void 0?a:bn.getDefaultRetryQuota(H.INITIAL_RETRY_TOKENS)}shouldRetry(t,i,r){return i<r&&this.retryDecider(t)&&this.retryQuota.hasRetryTokens(t)}async getMaxAttempts(){let t;try{t=await this.maxAttemptsProvider()}catch{t=Ht.DEFAULT_MAX_ATTEMPTS}return t}async retry(t,i,r){let n,a=0,o=0,u=await this.getMaxAttempts(),{request:s}=i;for(kt.HttpRequest.isInstance(s)&&(s.headers[H.INVOCATION_ID_HEADER]=An.v4());;)try{kt.HttpRequest.isInstance(s)&&(s.headers[H.REQUEST_HEADER]=`attempt=${a+1}; max=${u}`),(r==null?void 0:r.beforeRequest)&&await r.beforeRequest();let{response:l,output:d}=await t(i);return(r==null?void 0:r.afterRequest)&&r.afterRequest(l),this.retryQuota.releaseRetryTokens(n),d.$metadata.attempts=a+1,d.$metadata.totalRetryDelay=o,{response:l,output:d}}catch(l){let d=Pn(l);if(a++,this.shouldRetry(d,a,u)){n=this.retryQuota.retrieveRetryTokens(d);let y=this.delayDecider(Mn.isThrottlingError(d)?H.THROTTLING_RETRY_DELAY_BASE:H.DEFAULT_RETRY_DELAY_BASE,a);o+=y,await new Promise(c=>setTimeout(c,y));continue}throw d.$metadata||(d.$metadata={}),d.$metadata.attempts=a,d.$metadata.totalRetryDelay=o,d}}};me.StandardRetryStrategy=Ut;var Pn=e=>e instanceof Error?e:e instanceof Object?Object.assign(new Error,e):typeof e=="string"?new Error(e):new Error(`AWS SDK error wrapper for ${e}`)});var Ye=f(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.AdaptiveRetryStrategy=void 0;var Cn=L(),xn=Me(),qn=Re(),Bt=class extends qn.StandardRetryStrategy{constructor(t,i){let a=i??{},{rateLimiter:r}=a,n=Ue(a,["rateLimiter"]);super(t,n);this.rateLimiter=r??new xn.DefaultRateLimiter,this.mode=Cn.RETRY_MODES.ADAPTIVE}async retry(t,i){return super.retry(t,i,{beforeRequest:async()=>this.rateLimiter.getSendToken(),afterRequest:r=>{this.rateLimiter.updateClientSendingRate(r)}})}};Te.AdaptiveRetryStrategy=Bt});var Ft=f(_=>{"use strict";Object.defineProperty(_,"__esModule",{value:!0});_.NODE_RETRY_MODE_CONFIG_OPTIONS=_.CONFIG_RETRY_MODE=_.ENV_RETRY_MODE=_.resolveRetryConfig=_.NODE_MAX_ATTEMPT_CONFIG_OPTIONS=_.CONFIG_MAX_ATTEMPTS=_.ENV_MAX_ATTEMPTS=void 0;var In=Ye(),pe=L(),Nn=Re();_.ENV_MAX_ATTEMPTS="AWS_MAX_ATTEMPTS";_.CONFIG_MAX_ATTEMPTS="max_attempts";_.NODE_MAX_ATTEMPT_CONFIG_OPTIONS={environmentVariableSelector:e=>{let t=e[_.ENV_MAX_ATTEMPTS];if(!t)return;let i=parseInt(t);if(Number.isNaN(i))throw new Error(`Environment variable ${_.ENV_MAX_ATTEMPTS} mast be a number, got "${t}"`);return i},configFileSelector:e=>{let t=e[_.CONFIG_MAX_ATTEMPTS];if(!t)return;let i=parseInt(t);if(Number.isNaN(i))throw new Error(`Shared config file entry ${_.CONFIG_MAX_ATTEMPTS} mast be a number, got "${t}"`);return i},default:pe.DEFAULT_MAX_ATTEMPTS};var Ln=e=>{let t=jn(e.maxAttempts);return x(D({},e),{maxAttempts:t,retryStrategy:async()=>e.retryStrategy?e.retryStrategy:await Yn(e.retryMode)===pe.RETRY_MODES.ADAPTIVE?new In.AdaptiveRetryStrategy(t):new Nn.StandardRetryStrategy(t)})};_.resolveRetryConfig=Ln;var Yn=async e=>typeof e=="string"?e:await e(),jn=(e=pe.DEFAULT_MAX_ATTEMPTS)=>{if(typeof e=="number"){let t=Promise.resolve(e);return()=>t}return e};_.ENV_RETRY_MODE="AWS_RETRY_MODE";_.CONFIG_RETRY_MODE="retry_mode";_.NODE_RETRY_MODE_CONFIG_OPTIONS={environmentVariableSelector:e=>e[_.ENV_RETRY_MODE],configFileSelector:e=>e[_.CONFIG_RETRY_MODE],default:pe.DEFAULT_RETRY_MODE}});var Vt=f(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.getOmitRetryHeadersPlugin=O.omitRetryHeadersMiddlewareOptions=O.omitRetryHeadersMiddleware=void 0;var kn=Ae(),Gt=k(),Hn=()=>e=>async t=>{let{request:i}=t;return kn.HttpRequest.isInstance(i)&&(delete i.headers[Gt.INVOCATION_ID_HEADER],delete i.headers[Gt.REQUEST_HEADER]),e(t)};O.omitRetryHeadersMiddleware=Hn;O.omitRetryHeadersMiddlewareOptions={name:"omitRetryHeadersMiddleware",tags:["RETRY","HEADERS","OMIT_RETRY_HEADERS"],relation:"before",toMiddleware:"awsAuthMiddleware",override:!0};var Un=e=>({applyToStack:t=>{t.addRelativeTo(O.omitRetryHeadersMiddleware(),O.omitRetryHeadersMiddlewareOptions)}});O.getOmitRetryHeadersPlugin=Un});var $t=f(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.getRetryPlugin=M.retryMiddlewareOptions=M.retryMiddleware=void 0;var Bn=e=>(t,i)=>async r=>{let n=await e.retryStrategy();return(n==null?void 0:n.mode)&&(i.userAgent=[...i.userAgent||[],["cfg/retry-mode",n.mode]]),n.retry(t,r)};M.retryMiddleware=Bn;M.retryMiddlewareOptions={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0};var Fn=e=>({applyToStack:t=>{t.add(M.retryMiddleware(e),M.retryMiddlewareOptions)}});M.getRetryPlugin=Fn});var Wt=f(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0})});var Qt=f(p=>{"use strict";Object.defineProperty(p,"__esModule",{value:!0});var A=Oe();A.__exportStar(Ye(),p);A.__exportStar(Me(),p);A.__exportStar(Re(),p);A.__exportStar(L(),p);A.__exportStar(Ft(),p);A.__exportStar(Ne(),p);A.__exportStar(Vt(),p);A.__exportStar(Le(),p);A.__exportStar($t(),p);A.__exportStar(Wt(),p)});var $n={};or($n,{handler:()=>Vn});var Fe={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,OPTIONS"};async function Ge(e,t,i,r){try{let n=await t(e,i);return{statusCode:200,headers:r??Fe,body:typeof n=="string"?n:JSON.stringify(n)}}catch(n){console.error(n);let a={success:!1,error:""};n instanceof Error&&(a.error=`${n.name}: ${n.message}`);let o=typeof n=="string"?n:n instanceof Error?JSON.stringify(a):JSON.stringify(n);return{statusCode:n.statusCode??500,headers:Fe,body:o}}}var Kt=sr(Qt());var zt=10,Li={maxAttempts:zt,retryStrategy:new Kt.StandardRetryStrategy(async()=>zt)};function Jt(e){let t=[];for(let i of e)process.env[i]||t.push(i);if(t.length>0)throw new Error(`Unset environment variables required to execute lambda.

${t.join(" ")}
`)}var Gn=async e=>(Jt(["sourceS3BucketName","destinationS3BucketName"]),console.log("Event:",JSON.stringify(e)),{success:!0});async function Vn(e){console.log("Event:",JSON.stringify(e));let t=await Ge(e,Gn);return console.log("Response:",t),t}module.exports=ur($n);0&&(module.exports={handler});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
